{"version":3,"sources":["Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Button/Button.js","Loader/Spinner.js","Modal/Modal.js","services/picturesApi.js","App.js","index.js","Searchbar/Searchbar.module.css","ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","onSetLargeImage","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","map","id","largeImageURL","key","Button","onFetchPictures","Spinner","style","width","height","display","justifyContent","alignItems","color","Modal","handleOverlayClick","currentTarget","onClose","handleKeyDown","code","window","addEventListener","removeEventListener","Overlay","largeImage","searchQuery","page","axios","get","then","response","data","hits","App","loading","error","closeModal","fetchPictures","currentPage","picturesApi","prevState","catch","finally","handleSearchFormSubmit","query","setLargeImage","scrollToBottom","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","picture","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1deb7e54.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__23N_s\",\"Modal\":\"Modal_Modal__3Qpjk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2wmjc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__395v3\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    \r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, onSetLargeImage }) {\r\n  return (\r\n    <li\r\n      className={styles.ImageGalleryItem}\r\n      onClick={onSetLargeImage}\r\n    >\r\n      <img src={webformatURL} alt=\"\" className={styles.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onSetLargeImage: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ pictures, onSetLargeImage }) {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL} \r\n          largeImageURL={largeImageURL} \r\n          onSetLargeImage={() => onSetLargeImage(largeImageURL)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\n\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  onSetLargeImage: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nfunction Button({ onFetchPictures }) {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={onFetchPictures}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onFetchPictures: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\n\r\nexport default class Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"100\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\"\r\n        }}\r\n      >\r\n        <Loader type=\"ThreeDots\" color=\"#7388ff\" height={200} width={200} />\r\n      </div>\r\n\r\n      // <Loader\r\n\r\n      //   type=\"Watch\"\r\n      //   color=\"#00BFFF\"\r\n      //   height={100}\r\n      //   width={100}\r\n      //   timeout={300000} //3 secs\r\n      // />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n\r\n  }\r\n\r\ncomponentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n \r\n  }\r\n  handleOverlayClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.largeImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\n// 15179211-2a517f8cf9a714a01a74fe1df\r\n\r\nconst fetchPicturesByQuery = (searchQuery, page) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=14239053-7da15a6cef2814c1860b92e83&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchPicturesByQuery\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Button from \"./Button/Button\";\r\nimport Spinner from \"./Loader/Spinner\";\r\nimport Modal from \"./Modal/Modal\";\r\nimport picturesApi from \"./services/picturesApi\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    pictures: [],\r\n    loading: false,\r\n    error: null,\r\n    searchQuery: \"\",\r\n    page: 0,\r\n    largeImage: null\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchPictures();\r\n    }\r\n\r\n    if (this.state.pictures !== prevState.picture) {\r\n      this.scrollToBottom();\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({ largeImage: null });\r\n  };\r\n\r\n  fetchPictures = () => {\r\n    const { searchQuery, page } = this.state;\r\n    const currentPage = page + 1;\r\n    this.setState({ loading: true, page: currentPage });\r\n\r\n    picturesApi\r\n      .fetchPicturesByQuery(searchQuery, currentPage)\r\n      .then(pictures =>\r\n        this.setState(prevState => ({\r\n          pictures: [...prevState.pictures, ...pictures]\r\n        }))\r\n      )\r\n\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = query => {\r\n    this.setState({ searchQuery: query, page: 0, pictures: [] });\r\n  };\r\n\r\n  setLargeImage = largeImage => {\r\n    this.setState({ largeImage });\r\n  };\r\n\r\n  scrollToBottom = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\"\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { pictures, loading, error, largeImage } = this.state;\r\n    return (\r\n      <>\r\n        {largeImage && (\r\n          <Modal onClose={this.closeModal} largeImage={largeImage} />\r\n        )}\r\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\r\n        {pictures.length > 0 && (\r\n          <ImageGallery\r\n            pictures={pictures}\r\n            onSetLargeImage={this.setLargeImage}\r\n          />\r\n        )}\r\n        {loading && <Spinner />}\r\n        {pictures.length > 0 && !loading && (\r\n          <Button onFetchPictures={this.fetchPictures} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './base.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__14nwv\",\"SearchForm\":\"Searchbar_SearchForm__aDrmE\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2or7y\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1ec_s\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3NW8d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__xDavu\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1sxXW\"};"],"sourceRoot":""}