{"version":3,"sources":["Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Button/Button.js","Loader/Spinner.js","Modal/Modal.js","services/picturesApi.js","App.js","index.js","Searchbar/Searchbar.module.css","ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","onSetLargeImage","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","map","id","key","Button","onFetchPictures","Spinner","style","width","height","display","justifyContent","alignItems","color","Modal","largeImage","Overlay","searchQuery","page","axios","get","then","response","data","hits","App","loading","error","handleKeyDown","code","window","removeEventListener","fetchPictures","picturesApi","prevState","catch","finally","handleSearchFormSubmit","query","setLargeImage","scrollToBottom","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevPage","addEventListener","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d9514a95.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__23N_s\",\"Modal\":\"Modal_Modal__3Qpjk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2wmjc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__395v3\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    \r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, onSetLargeImage }) {\r\n  return (\r\n    <li\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => onSetLargeImage(largeImageURL)}\r\n    >\r\n      <img src={webformatURL} alt=\"\" className={styles.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onSetLargeImage: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ pictures, onSetLargeImage }) {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          onSetLargeImage={onSetLargeImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  onSetLargeImage: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nfunction Button({ onFetchPictures }) {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={onFetchPictures}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onFetchPictures: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\n\r\nexport default class Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"100\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\"\r\n        }}\r\n      >\r\n        <Loader type=\"ThreeDots\" color=\"#9818d6\" height={200} width={200} />\r\n      </div>\r\n\r\n      // <Loader\r\n\r\n      //   type=\"Watch\"\r\n      //   color=\"#00BFFF\"\r\n      //   height={100}\r\n      //   width={100}\r\n      //   timeout={300000} //3 secs\r\n      // />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nfunction Modal({ largeImage }) {\r\n  return (\r\n    <div className={styles.Overlay}>\r\n      <div className={styles.Modal}>\r\n        <img src={largeImage} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImage: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\n// 15179211-2a517f8cf9a714a01a74fe1df\r\n\r\nconst fetchPicturesByQuery = (searchQuery, page) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=14239053-7da15a6cef2814c1860b92e83&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchPicturesByQuery\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Button from \"./Button/Button\";\r\nimport Spinner from \"./Loader/Spinner\";\r\nimport Modal from \"./Modal/Modal\";\r\nimport picturesApi from \"./services/picturesApi\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    pictures: [],\r\n    loading: false,\r\n    error: null,\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    largeImage: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchPictures();\r\n    }\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n\r\n    if (prevPage !== nextPage && prevPage !== 1) {\r\n      this.scrollToBottom();\r\n    }\r\n\r\n    if (this.state.largeImage) {\r\n      window.addEventListener(\"keydown\", this.handleKeyDown);\r\n    }\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    // console.log(e);\r\n    if (e.code === \"Escape\") {\r\n      this.setState({ largeImage: null });\r\n      window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n    }\r\n  };\r\n\r\n\r\n  fetchPictures = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    this.setState({ loading: true });\r\n\r\n    picturesApi\r\n      .fetchPicturesByQuery(searchQuery, page)\r\n      .then(pictures =>\r\n        this.setState(prevState => ({\r\n          page: prevState.page + 1,\r\n          pictures: [...prevState.pictures, ...pictures]\r\n        }))\r\n      )\r\n\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = query => {\r\n    this.setState({ searchQuery: query, page: 1, pictures: [] });\r\n  };\r\n\r\n  setLargeImage = largeImage => {\r\n    this.setState({ largeImage });\r\n  };\r\n\r\n  scrollToBottom = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\"\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { pictures, loading, error, largeImage } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {largeImage && <Modal largeImage={largeImage} />}\r\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\r\n        {pictures.length > 0 && (\r\n          <ImageGallery\r\n            pictures={pictures}\r\n            onSetLargeImage={this.setLargeImage}\r\n          />\r\n        )}\r\n        {loading && <Spinner />}\r\n        {pictures.length > 0 && !loading && (\r\n          <Button onFetchPictures={this.fetchPictures} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './base.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__14nwv\",\"SearchForm\":\"Searchbar_SearchForm__aDrmE\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2or7y\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1ec_s\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3NW8d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__xDavu\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1sxXW\"};"],"sourceRoot":""}